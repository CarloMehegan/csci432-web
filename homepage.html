<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robert's Realm</title>
    <link rel="stylesheet" href="index-home.css">
</head>
<body>
    <div class="web-container">

        <img  src="\home-imgs\avatar.png" class="avatar" alt="">
    
        <div>Robert's Realm</div>
    
        <div class="commitees">
    
            <div>Commitees</div>

            <div class="outer-teams">
    
            <div id= "teams">
                
                <!-- <a href="\team_home"><div class="team">
                    <img src="\home-imgs\people.svg" class="people" alt="">
                    <p>Team 1</p></a>
                </div>
                <a href="\team_home"></a><div class="team">
                    <img src="\home-imgs\people.svg" class="people" alt="">
                    <p>Team 1</p></a>
                </div>
                <a href="\team_home"></a><div class="team">
                    <img src="\home-imgs\people.svg" class="people" alt="">
                    <p>Team 1</p></a>
                </div>
                <a href="\team_home"></a><div class="team">
                    <img src="\home-imgs\people.svg" class="people" alt="">
                    <p>Team 1</p></a>
                </div>
    
                 -->
                </div>
                <a href="\create_comittee"><div class="add-team">
                    <img src="\home-imgs\plus-solid.svg" alt="">
                    <p>Add a Committee</p>
                </a>
            </div>
    
        </div>
        <button onclick="toggleDarkMode()">Toggle Dark Mode</button>
    </div>

    <script>
        function toggleDarkMode() {
            const body = document.body;
            const page = document.querySelector('.web-container');
            if (body.style.backgroundColor == 'dimgrey') {
                body.style.backgroundColor = 'white';
                page.style.backgroundColor = 'white';
            } else {
                body.style.backgroundColor = 'dimgrey';
                page.style.backgroundColor = 'gainsboro';
            }
        }

        fetch('http://localhost:3000/user/Jane')
        .then(response => response.json())
        .then(data => {
                const container = document.getElementById('teams');

                // The array of items to map
                const items = data.committees;

                // Loop over the items and create a button for each
                const divElements = items.map(item => {
                    
                    const button = document.createElement('button');
                    button.classList.add("team");
                    button.textContent = item;
                    button.addEventListener('click', () => {
                        window.location.href = `team_home.html`;
                    });

                    return button;
                });

                divElements.forEach(div => {
                    container.appendChild(div);
                });
        })
        .catch(error => console.error('Error:', error));

        

        // Append the div elements to the container
        
    </script>
</body>

</html>